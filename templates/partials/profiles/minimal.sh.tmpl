# Minimal Profile Configuration
# Focus on essential tools and simple, reliable configurations

{{- if eq .profile "minimal" }}

# Essential environment setup
export PAGER="${PAGER:-less}"
export LESS="${LESS:--R -F -X}"

# Basic aliases for productivity
alias ..='cd ..'
alias ...='cd ../..'
alias ll='ls -alF'
alias la='ls -A'
alias l='ls -CF'

# Git essentials only
{{- if lookPath "git" }}
alias g='git'
alias ga='git add'
alias gc='git commit'
alias gco='git checkout'
alias gd='git diff'
alias gl='git log --oneline'
alias gp='git push'
alias gs='git status'
alias gb='git branch'

# Simple git functions
gac() {
    git add -A && git commit -m "$1"
}
{{- end }}

# tmux essentials
{{- if lookPath "tmux" }}
alias t='tmux'
alias ta='tmux attach'
alias tl='tmux list-sessions'
{{- end }}

# Basic utilities
alias h='history'
alias c='clear'
alias reload='exec ${SHELL} -l'

# Simple backup function
backup() {
    cp "$1"{,.bak}
}

# Basic file search
qfind() {
    find . -name "*$1*" 2>/dev/null
}

# Process management
psgrep() {
    ps aux | grep "$1" | grep -v grep
}

# System info
sysinfo() {
    echo "System: $(uname -s)"
    echo "User: $USER"
    echo "Shell: $SHELL"
    echo "Home: $HOME"
}

# Simple prompt setup (if no advanced prompt is loaded)
if [ -z "$PROMPT_COMMAND" ] && [ -z "$precmd_functions" ]; then
    {{- if eq .chezmoi.os "linux" }}
    export PS1='\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
    {{- else if eq .chezmoi.os "darwin" }}
    export PS1='\[\033[01;36m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
    {{- else }}
    export PS1='\[\033[01;33m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
    {{- end }}
fi

# Helpful message for minimal users
minimal_help() {
    echo "ðŸ”§ Minimal Profile Active"
    echo "Essential commands:"
    echo "  â€¢ t / tmux     - Start terminal multiplexer"
    echo "  â€¢ g / git      - Git shortcuts (ga, gc, gco, etc.)"
    echo "  â€¢ backup file  - Create file.bak"
    echo "  â€¢ sysinfo      - Show system information"
    echo ""
    echo "ðŸ’¡ To see more features, consider upgrading to developer profile"
}

{{- end }}